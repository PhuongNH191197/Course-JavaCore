# So sánh mạnh mẽ với Lambda

Trong hướng dẫn này, chúng ta sẽ nói về những hỗ trợ của Lambda trong Java 8 - đặc biệt là cách tận dụng nó để viết `Comparator` và sắp xếp một `Collection`.

Đầu tiên, chúng ta tạo một đối tượng sẽ sử dụng trong bài viết:

```java
public class Human {
    private String name;
    private int age;
 
    public Human() {
        super();
    }
 
    public Human(String name, int age) {
        super();
 
        this.name = name;
        this.age = age;
    }
 
    // standard getters/setters, equals and hashcode
}
```

## 1. Sort cơ bản không sử dụng Lambda

Trước Java 8, để sắp xếp một Collection sẽ liên quan đến việc tạo một lớp bên trong vô danh cho `Comparator` được sử dụng trong sắp xếp:
```java
    List<Human> humans = Lists.newArrayList(
        new Human("Sarah", 10), 
        new Human("Jack", 12)
    );
     
    Collections.sort(humans, new Comparator<Human>() {
        @Override
        public int compare(Human h1, Human h2) {
            return h1.getName().compareTo(h2.getName());
        }
    });
```

## 2. Sort cơ bản sử dụng Lambda

Với sự ra đời của Lambdas, bây giờ chúng ta có thể bỏ qua lớp bên trong vô danh và đạt được kết quả tương tự với ngữ nghĩa đơn giản, chức năng:
```java
    List<Human> humans = Lists.newArrayList(
      new Human("Sarah", 10), 
      new Human("Jack", 12)
    );
     
    humans.sort((Human h1, Human h2) -> h1.getName().compareTo(h2.getName()));
```
*Lưu ý rằng: chúng ta đang sử dụng API sắp xếp mới được thêm vào `java.util.List` trong Java 8 - thay vì API `Collections.sort` cũ.*

Chúng ta có thể đơn giản hóa hơn nữa biểu thức bằng cách không chỉ định các định nghĩa kiểu - trình biên dịch có khả năng suy ra các định nghĩa này:
```java
    humans.sort((h1, h2) -> h1.getName().compareTo(h2.getName()));
```

## 3. Sort sử dụng Reference to Static Method

Tiếp theo, chúng ta sẽ thực hiện sắp xếp bằng cách sử dụng một biểu thức Lambda với tham chiếu đến một phương `Static`.

Đầu tiên, chúng ta sẽ định nghĩa phương thức `compareByNameThenAge` - giống như phương thức so sánh trong một đối tượng Comparator<Human>
```java
    public static int compareByNameThenAge(Human lhs, Human rhs) {
        if (lhs.name.equals(rhs.name)) {
            return lhs.age - rhs.age;
        } else {
            return lhs.name.compareTo(rhs.name);
        }
    }
```

